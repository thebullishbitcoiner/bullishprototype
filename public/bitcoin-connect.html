<!DOCTYPE html>
<html lang="en" data-bs-theme="dark">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <link rel="stylesheet" href="bootstrap-5.3.3/css/bootstrap.min.css" />
  <link rel="stylesheet" href="css/dark-theme.css" />
  <title>Bitcoin Connect - bullishPrototype</title>

  <style>
    html {
      --bc-color-brand: #ff9900;
      /* Only 6-digit hex and rgb formats are supported! */
    }
  </style>
</head>

<body>
  <div id="navbar"></div>
  
  <div id="main-content" class="container">

    <br>

    <div class="p-5 mb-4 bg-body-tertiary rounded-3">
      <div class="container-fluid py-5">
        <h1 class="display-5 fw-bold">Bitcoin Connect</h1>
        <p class="col-md-8 fs-4">Connect your Bitcoin wallet using Bitcoin Connect.</p>
      </div>
    </div>

    <div class="row">
      <div class="col-md-6">
        <div class="card">
          <div class="card-header">
            Wallet Connection
          </div>
          <div class="card-body">
            <div id="wallet-status" class="alert alert-info">
              Wallet not connected
            </div>
            <button id="connect-wallet" class="btn btn-primary">Connect Wallet</button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Bootstrap core JavaScript -->
  <script src="bootstrap-5.3.3/js/bootstrap.bundle.min.js"></script>
  <script type="module" src="js/main.jsx"></script>
  <script type="module">
    import { launchModal } from '@getalby/bitcoin-connect';

    // Connect wallet button handler
    document.getElementById('connect-wallet').addEventListener('click', async () => {
      try {
        const walletStatus = document.getElementById('wallet-status');
        walletStatus.innerHTML = '<div class="alert alert-info">Connecting wallet...</div>';

        const result = await launchModal();
        
        if (result) {
          walletStatus.innerHTML = `
            <div class="alert alert-success">
              <h5>Wallet Connected</h5>
              <p class="mb-0">Connected to ${result.wallet}</p>
            </div>
          `;
        } else {
          walletStatus.innerHTML = `
            <div class="alert alert-warning">
              Wallet connection cancelled
            </div>
          `;
        }
      } catch (error) {
        const walletStatus = document.getElementById('wallet-status');
        walletStatus.innerHTML = `
          <div class="alert alert-danger">
            Error connecting wallet: ${error.message}
          </div>
        `;
      }
    });
  </script>
</body>

</html>